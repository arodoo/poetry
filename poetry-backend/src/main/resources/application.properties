# File: application.properties
# Purpose: Spring Boot application configuration
# Settings wrapped to comply with 80-char line width.

# This disables the rate limits for dev environment
spring.profiles.active=dev
spring.application.name=poetry-backend
server.port=8080
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
management.endpoints.web.exposure.include=health,info,metrics
management.endpoints.web.exposure.exclude=mappings
management.endpoint.health.show-details=never
logging.pattern.level=%5p
# Compact JSON log pattern (<=80 chars)
logging.pattern.console={ts:"%d{ISO8601}",lvl:"%p",lg:"%logger{20}",msg:"%m"}%n
# Database connection arguments
db.protocol=jdbc
db.subprotocol=postgresql
db.host=localhost
db.port=5432
db.name=poetry
spring.datasource.url=${db.protocol}:${db.subprotocol}://${db.host}:${db.port}/${db.name}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:aa}
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true

# App configuration (typed via AppProperties)
app.api-base-path=/api/v1
app.cors-allowed-origins=http://localhost:5173
app.idempotency-ttl-seconds=300
app.log-json=true
# http client defaults
app.http-connect-timeout-ms=3000
app.http-read-timeout-ms=5000
app.http-retry-max-attempts=3
app.http-retry-backoff-ms=200
# i18n locales (default English, also support Spanish)
app.default-locale=en
app.supported-locales=en,es
