# File: application.properties
# Purpose: Test-only overrides. Use H2 automatically in tests.

# Activate test profile so TestSecurityConfig is used
spring.profiles.active=test

# In-memory H2 datasource (PostgreSQL compatibility mode)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Hibernate schema for tests
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# App configuration required by AppProperties validation in tests
app.api-base-path=/api/v1
app.cors-allowed-origins=http://localhost:5173
app.idempotency-ttl-seconds=300
app.log-json=true
app.http-connect-timeout-ms=3000
app.http-read-timeout-ms=5000
app.http-retry-max-attempts=3
app.http-retry-backoff-ms=200
app.default-locale=en
app.supported-locales=en,es
