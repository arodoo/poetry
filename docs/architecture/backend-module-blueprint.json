{
  "meta": {
    "version": "1.5",
    "description": "Canonical backend feature file & folder structure (structure-only). Class names are singular (Event, Zone, User) regardless of folder plurality. Controllers split by operation (Create/Get/List/PagedList/Update/Delete). Negative test file expectations included. Semantic rules enforced by dedicated CI scripts.",
    "nonCrudFeatures": [
      "auth",
      "dashboard",
      "font",
      "i18n",
      "theme",
      "publics",
      "me",
      "roles",
      "tokens",
      "admin",
      "api",
      "shared",
      "sellercode"
    ],
    "notes": "nonCrudFeatures are utility/auth/config features with custom controllers, not full CRUD. They are excluded from CRUD controller/test/OpenAPI requirements. Standard CRUD features like events, membership, subscription, user, zone use singular class names."
  },
  "structure": {
    "domain": {
      "path": "poetry-backend/src/main/java/com/poetry/poetry_backend/domain",
      "files": [
        {
          "path": "<feature>/model/**/Feature.java",
          "pattern": true,
          "required": true,
          "description": "Aggregate root"
        },
        {
          "path": "<feature>/model/value/*",
          "required": false,
          "description": "Value objects",
          "pattern": true
        }
      ]
    },
    "application": {
      "path": "poetry-backend/src/main/java/com/poetry/poetry_backend/application",
      "files": [
        {
          "path": "<feature>/port/FeatureQueryPort.java",
          "required": true,
          "description": "Query port"
        },
        {
          "path": "<feature>/port/FeatureCommandPort.java",
          "required": true,
          "description": "Command port"
        },
        {
          "path": "<feature>/usecase/**/GetAllFeaturesUseCase.java",
          "pattern": true,
          "required": true,
          "description": "List use case"
        },
        {
          "path": "<feature>/usecase/**/GetFeatureByIdUseCase.java",
          "pattern": true,
          "required": true,
          "description": "Get by id use case"
        },
        {
          "path": "<feature>/usecase/**/CreateFeatureUseCase.java",
          "pattern": true,
          "required": true,
          "description": "Create use case"
        },
        {
          "path": "<feature>/usecase/**/UpdateFeatureUseCase.java",
          "pattern": true,
          "required": true,
          "description": "Update use case"
        },
        {
          "path": "<feature>/usecase/**/DeleteFeatureUseCase.java",
          "pattern": true,
          "required": true,
          "description": "Delete use case"
        }
      ]
    },
    "infrastructure": {
      "path": "poetry-backend/src/main/java/com/poetry/poetry_backend/infrastructure",
      "files": [
        {
          "path": "jpa/<feature>/**/FeatureEntity.java",
          "pattern": true,
          "required": true,
          "description": "JPA entity"
        },
        {
          "path": "jpa/<feature>/**/FeatureJpaRepository.java",
          "pattern": true,
          "required": true,
          "description": "Repository"
        },
        {
          "path": "jpa/<feature>/**/FeatureJpaMapper.java",
          "pattern": true,
          "required": true,
          "description": "Mapper"
        },
        {
          "path": "jpa/<feature>/**/FeatureJpaAdapter.java",
          "pattern": true,
          "required": true,
          "description": "Adapter"
        },
        {
          "path": "memory/<feature>/InMemoryFeatureAdapter.java",
          "required": false,
          "description": "In-memory adapter"
        },
        {
          "path": "memory/<feature>/InMemoryFeatureStore.java",
          "required": false,
          "description": "In-memory store"
        },
        {
          "path": "memory/<feature>/InMemoryFeatureFactory.java",
          "required": false,
          "description": "In-memory factory"
        }
      ]
    },
    "interfaces": {
      "path": "poetry-backend/src/main/java/com/poetry/poetry_backend/interfaces",
      "files": [
        {
          "path": "v1/<feature>/FeatureController.java",
          "required": true,
          "description": "Placeholder controller (final, empty)"
        },
        {
          "path": "v1/<feature>/**/FeaturesCreateController.java",
          "pattern": true,
          "required": true,
          "description": "Create endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeaturesGetController.java",
          "pattern": true,
          "required": true,
          "description": "Get by ID endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeaturesListController.java",
          "pattern": true,
          "required": true,
          "description": "List all endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeaturesPagedListController.java",
          "pattern": true,
          "required": true,
          "description": "Paged list endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeaturesUpdateController.java",
          "pattern": true,
          "required": true,
          "description": "Update endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeaturesDeleteController.java",
          "pattern": true,
          "required": true,
          "description": "Delete endpoint controller"
        },
        {
          "path": "v1/<feature>/**/FeatureDto.java",
          "pattern": true,
          "required": true,
          "description": "DTOs (singular naming)"
        }
      ]
    },
    "config": {
      "path": "poetry-backend/src/main/java/com/poetry/poetry_backend/config",
      "files": [
        {
          "path": "<feature>/FeatureComposition.java",
          "required": true,
          "description": "Composition root"
        }
      ]
    },
    "docs": {
      "path": "docs",
      "files": [
        {
          "path": "domains/<feature>.md",
          "required": true,
          "description": "Domain doc"
        },
        {
          "path": "api/openapi/paths/<feature>-*.yaml",
          "required": true,
          "description": "OpenAPI paths",
          "pattern": true
        }
      ]
    },
    "tests": {
      "path": "poetry-backend/src/test/java/com/poetry/poetry_backend",
      "files": [
        {
          "path": "domain/<feature>/model/FeatureTest.java",
          "required": true,
          "description": "Domain happy-path test"
        },
        {
          "path": "domain/<feature>/model/FeatureValidationTest.java",
          "required": true,
          "description": "Domain negative validation tests (each rule)"
        },
        {
          "path": "application/<feature>/usecase/CreateFeatureUseCaseTest.java",
          "required": true,
          "description": "Create UC happy-path test"
        },
        {
          "path": "application/<feature>/usecase/CreateFeatureUseCaseNegativeTest.java",
          "required": true,
          "description": "Create UC negative tests (validation/conflict/idempotency)"
        },
        {
          "path": "application/<feature>/usecase/GetAllFeaturesUseCaseTest.java",
          "required": true,
          "description": "List UC happy-path test"
        },
        {
          "path": "application/<feature>/usecase/GetFeatureByIdUseCaseTest.java",
          "required": true,
          "description": "Get UC happy-path test"
        },
        {
          "path": "application/<feature>/usecase/GetFeatureByIdUseCaseNegativeTest.java",
          "required": true,
          "description": "Get UC not-found / invalid id tests"
        },
        {
          "path": "application/<feature>/usecase/UpdateFeatureUseCaseTest.java",
          "required": true,
          "description": "Update UC happy-path test"
        },
        {
          "path": "application/<feature>/usecase/UpdateFeatureUseCaseNegativeTest.java",
          "required": true,
          "description": "Update UC not-found / validation tests"
        },
        {
          "path": "application/<feature>/usecase/DeleteFeatureUseCaseTest.java",
          "required": true,
          "description": "Delete UC happy-path test"
        },
        {
          "path": "application/<feature>/usecase/DeleteFeatureUseCaseNegativeTest.java",
          "required": true,
          "description": "Delete UC not-found / soft-delete visibility tests"
        },
        {
          "path": "interfaces/v1/<feature>/FeatureControllerTest.java",
          "required": true,
          "description": "Controller happy-path tests (all endpoints)"
        },
        {
          "path": "interfaces/v1/<feature>/FeatureControllerNegativeTest.java",
          "required": true,
          "description": "Controller negative tests (400/404/409/412, all endpoints)"
        }
      ]
    }
  }
}